{"version":3,"sources":["hoc/withAuthRedirect.js","App.module.css","components/common/FormsContent/FormContent.module.css","redux/DialogsReducer.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/Profile.module.css","components/common/Preloader/Preloader.module.css","components/Sidebar/Sidebar.module.css","reportWebVitals.js","api/api.js","utils/ObjectHelper.js","redux/UsersReducer.js","redux/ProfileReducer.js","redux/AuthReducer.js","redux/AppReducer.js","redux/ReduxStore.js","assets/images/default_avatar.jpg","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","assets/Spinner200px.svg","components/Profile/ProfileInfo/head.jpg","components/common/Preloader/Preloader.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.jsx","components/Login/Login.jsx","components/Profile/ProfileInfo/ProfileDataForm/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/UsersSelectors.js","components/Users/UsersContainer.jsx","components/Login/LoginContainer.js","components/Header/Header.jsx","assets/images/exit-24px.png","components/Header/HeaderContainer.jsx","components/Sidebar/Sidebar.jsx","components/Info/Info.jsx","App.js","index.js","components/Users/User.module.css","components/Login/Login.module.css","components/Info/Info.module.css","components/Header/Header.module.css","components/common/FormsContent/FormsContent.js","components/Profile/MyPosts/MyPosts.module.css","utils/validators/validators.js","components/Profile/MyPosts/Post/Post.module.css"],"names":["withAuthRedirect","Component","RedirectComponent","this","props","isAuth","to","React","connect","state","auth","module","exports","ADD_MESSAGE","CHANGE_ID","addMessageActionCreate","text","type","changeIdActionCreate","id2","id","initialState","messagesData","messages","sender","newMessageText","newMessageId","dialogsData","name","DialogsReducer","action","stateCopy","map","m","newMess","push","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","instance","axios","create","baseURL","withCredentials","headers","usersAPI","currentPage","pageSize","get","response","data","post","delete","authAPI","email","password","rememberMe","profileAPI","userID","status","put","photoFile","formData","FormData","append","headres","profile","updateObjectInArray","items","key","objPropName","newObjProps","u","TOGGLE_SUB","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","SET_PAGE_SIZE","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_PROGRESS","toggleSub","isFollow","userId","toggleFollowingProgress","isFetching","toggleIsFetching","users","totalUsersCount","followingProgress","UsersReducer","followed","curP","totalC","pageS","filter","DELETE_POST","ADD_POST","SET_USER_PROFILE","SET_STATUS","SET_PHOTO","setUserProfile","setStatus","getProfile","dispatch","a","postsData","message","likes","ProfileReducer","newPost","length","photos","p","SET_USER_DATA","DELETE_USER_DATA","setAuthUserData","authUser","resultCode","logoutUser","login","small","large","AuthReducer","SET_INITIALIZED","initializedSet","AppReducer","reducersPack","combineReducers","dialogsPage","profilePage","usersPage","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Post","className","s","item","postImage","src","avatar","postMessage","likeButton","maxLength","maxLengthCreator","MyPosts","memo","postsElements","page","ReduxAddPostForm","onSubmit","addPost","newPostBody","myPostsContent","postsHeader","fullName","posts","reduxForm","handleSubmit","Field","addPostField","component","Textarea","placeholder","validate","addPostButton","MyPostsContainer","addPostActionCreate","Preloader","preloader","spinner","ProfileStatusWithHooks","useState","editMode","setEditMode","useEffect","onDoubleClick","isOwner","statusInput","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","ReduxLoginForm","error","header","loginForm","leftPart","inputField","Input","requiredField","formSummaryError","checkbox","checkboxText","loginButton","Login","sendLogin","Contact","contactTitle","contactValue","ReduxEditProfileForm","allContacts","contacts","bottomBlock","aboutMe","aboutMeDescr","contactsList","editButton","ProfileData","onClick","toEditMode","ProfileInfo","profileInfo","topBlock","fullN","ava","changeAvatarButton","target","files","savePhoto","initialValues","defaultProfile","JSON","parse","stringify","lookingForAJob","lookingForAJobDescription","saveProfile","Profile","ProfileContainer","match","params","userid","authUserId","getStatus","prevProps","photo","getState","errorObj","fieldName","toLowerCase","stopSubmit","withRouter","User","followingStatusChange","user","followButton","button","disabled","some","Users","content","paginationFlex","pagination","defaultCurrent","defaultPageSize","total","onShowSizeChange","current","onPageSizeChange","onPageChange","getUsers","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingProgress","UsersContainer","createSelector","setCurrentPage","setPageSize","totalCount","LoginContainer","loginUser","err","_error","Header","rightSide","username","logout","photoSmall","photoLarge","HeaderContainer","sendLogout","Sidebar","nav","activeClassName","active","Info","Music","lazy","Settings","News","DialogsContainer","App","initializeApp","appWrap","appWrapContent","Suspense","fallback","path","render","promise","Promise","all","ReactDOM","document","getElementById","FormControl","input","meta","hasError","touched","formControl","children","restProps"],"mappings":"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","file":"static/js/main.9ea34e5e.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Redirect } from 'react-router';\r\nimport {connect} from \"react-redux\"\r\n\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (this.props.isAuth == false)\r\n                return <Redirect to={\"/login\"}/>\r\n            return <Component {...this.props}/>\r\n\r\n        }\r\n    }\r\n\r\n    let mapStateToPropsRedirect = (state) => {\r\n        return {\r\n            isAuth: state.auth.isAuth\r\n        }\r\n    }\r\n\r\n    let ConnectedRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent)\r\n\r\n    return ConnectedRedirectComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1EJzZ\",\"appWrap\":\"App_appWrap__229eX\",\"appWrapContent\":\"App_appWrapContent__jN9a4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormContent_formControl__t2nWo\",\"error\":\"FormContent_error__8uUgT\"};","const ADD_MESSAGE = \"dialogs/ADD-MESSAGE\";\r\nconst UPDATE_NEW_MESSAGE_TEXT = \"dialogs/UPDATE-NEW-MESSAGE-TEXT\";\r\nconst CHANGE_ID = \"dialogs/CHANGE-ID\";\r\n\r\nexport const addMessageActionCreate = (text) => ({type: ADD_MESSAGE, text});\r\nexport const changeIdActionCreate = (id2) => ({type: CHANGE_ID, id: id2});\r\n\r\nlet initialState = {\r\n    messagesData: [\r\n        {\r\n            id: 0, messages: [\r\n                {text: 'hi', sender: 'user'},\r\n                {text: 'Hi', sender: 'friend'},\r\n                {text: 'How r u ?', sender: 'friend'},\r\n                {text: 'ok, bro', sender: 'user'},\r\n                {text: '. . .', sender: 'user'}]\r\n        },\r\n        {\r\n            id: 1, messages: [\r\n                {text: 'hi', sender: 'user'},\r\n                {text: 'Auuu', sender: 'user'},\r\n                {text: 'Wheere r u ?', sender: 'user'},\r\n                {text: '. . .', sender: 'user'}]\r\n        },\r\n        {\r\n            id: 2, messages: [\r\n                {text: 'Man', sender: 'frien'},\r\n                {text: 'U r &&&', sender: 'friend'},\r\n                {text: 'How r u ?', sender: 'friend'},\r\n                {text: 'maaaaaaaaa55n', sender: 'user'}]\r\n        },\r\n        {id: 3, messages: []},\r\n        {id: 4, messages: []},\r\n        {id: 5, messages: []},\r\n        {id: 6, messages: []}\r\n    ],\r\n    newMessageText: '',\r\n    newMessageId: '0',\r\n    dialogsData: [\r\n        {id: 0, name: 'check'},\r\n        {id: 1, name: 'Dimych'},\r\n        {id: 2, name: 'Vlad'},\r\n        {id: 3, name: 'Andr'},\r\n        {id: 4, name: 'Valent'},\r\n        {id: 5, name: 'Sant'},\r\n        {id: 6, name: 'Dash'}\r\n    ]\r\n}\r\n\r\nconst DialogsReducer = (state = initialState, action) => {\r\n\r\n    let stateCopy = {\r\n        ...state,\r\n        messagesData: [...state.messagesData]\r\n    };\r\n    stateCopy.messagesData = state.messagesData.map(m => {\r\n        let mcopy = {\r\n            ...m,\r\n            messages: [...m.messages]\r\n        };\r\n        return mcopy})\r\n\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            let newMess = {\r\n                text: action.text,\r\n                sender: 'user'\r\n            };\r\n            stateCopy.messagesData[stateCopy.newMessageId].messages.push(newMess);\r\n            return stateCopy;\r\n        case CHANGE_ID:\r\n            stateCopy.newMessageId = action.id;\r\n            return stateCopy;\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n    return state;\r\n}\r\n\r\nexport default DialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topBlock\":\"ProfileInfo_topBlock__IUvgD\",\"profileInfo\":\"ProfileInfo_profileInfo__1_XYo\",\"ava\":\"ProfileInfo_ava__2-Vha\",\"fullN\":\"ProfileInfo_fullN__3uQfb\",\"status\":\"ProfileInfo_status__26BKT\",\"statusInput\":\"ProfileInfo_statusInput__2rRos\",\"bottomBlock\":\"ProfileInfo_bottomBlock__3hB6o\",\"aboutMe\":\"ProfileInfo_aboutMe__1c5a2\",\"aboutMeDescr\":\"ProfileInfo_aboutMeDescr__2VCKZ\",\"contacts\":\"ProfileInfo_contacts__3fDmQ\",\"contactsList\":\"ProfileInfo_contactsList__JV-XQ\",\"changeAvatarButton\":\"ProfileInfo_changeAvatarButton__3jR1_\",\"editButton\":\"ProfileInfo_editButton__2XOTd\",\"formSummaryError\":\"ProfileInfo_formSummaryError__3N5mu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__31pKM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2VKDw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Sidebar_nav__2xqhk\",\"item\":\"Sidebar_item__27Mug\",\"active\":\"Sidebar_active__1YCaY\",\"itemMarg\":\"Sidebar_itemMarg__3fC-R\"};","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import axios from \"axios\";\r\n\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"3cb6845e-8b79-47d3-af84-0e23816919af\"\r\n    }\r\n})\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10)  {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n\r\n    },\r\n\r\n    followUser(id){\r\n        return instance.post(`follow/${id}`)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    unfollowUser(id){\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => response.data)\r\n    }\r\n\r\n}\r\n\r\nexport const authAPI = {\r\n    auth(){\r\n        return instance.get(`auth/me`,)\r\n            .then(response => response.data)\r\n    },\r\n    login(email, password, rememberMe){\r\n        return instance.post(`auth/login`,\r\n            {email, password, rememberMe})\r\n            .then(response => response.data)\r\n    },\r\n    logout(){\r\n        return instance.delete(`auth/login`,)\r\n            .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userID)  {\r\n        return instance.get(`profile/${userID}`,)\r\n            .then(response => response.data)\r\n    },\r\n    getStatus(userID) {\r\n        return instance.get(`profile/status/${userID}`,)\r\n            .then(response => response.data)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`,{ status: status })\r\n            .then(response => response.data)\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put(`profile/photo`, formData,{headres: {\r\n            \"Content-Type\": \"multipart/form-data\"\r\n            }})\r\n            .then(response => response.data)\r\n    },\r\n    saveProfile(profile) {\r\n\r\n        return instance.put(`profile`, profile,{headres: {\r\n                \"Content-Type\": \"multipart/form-data\"\r\n            }})\r\n            .then(response => response.data)\r\n    },\r\n}\r\n\r\n","export const updateObjectInArray = (items, key, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === key){\r\n         return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/ObjectHelper\";\r\n\r\nconst TOGGLE_SUB = \"users/TOGGLE-SUB\"\r\nconst SET_USERS = \"users/SET-USERS\"\r\nconst SET_CURRENT_PAGE = \"users/SET-CURRENT-PAGE\"\r\nconst SET_TOTAL_USERS_COUNT = \"users/SET-TOTAL-USERS-COUNT\"\r\nconst SET_PAGE_SIZE = \"users/SET-PAGE-SIZE\"\r\nconst TOGGLE_IS_FETCHING = \"users/TOGGLE-IS-FETCHING\"\r\nconst TOGGLE_FOLLOWING_PROGRESS = \"users/TOGGLE-FOLLOWING-PROGRESS\"\r\n\r\nexport const toggleSub = (id, isFollow) => ({type: TOGGLE_SUB, userId: id, isFollow: isFollow})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_FOLLOWING_PROGRESS, isFetching, userId})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (curP) => ({type: SET_CURRENT_PAGE, curP})\r\nexport const setTotalUsersCount = (totalC) => ({type: SET_TOTAL_USERS_COUNT, totalC})\r\nexport const setPageSize = (pageS) => ({type: SET_PAGE_SIZE, pageS})\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n\r\n    dispatch(toggleIsFetching(true))\r\n\r\n    let data = await usersAPI.getUsers(currentPage, pageSize)\r\n\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n\r\n\r\n}\r\n\r\nexport const followingStatusChange = (id, isFollow) => async (dispatch) => {\r\n\r\n    dispatch(toggleFollowingProgress(true, id))\r\n    let data = null\r\n    if (isFollow){\r\n        data = await usersAPI.followUser(id)\r\n    }else {\r\n        data = await usersAPI.unfollowUser(id)\r\n    }\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(toggleSub(id, isFollow))\r\n        dispatch(toggleFollowingProgress(false, id))\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingProgress: []\r\n};\r\n\r\nexport const UsersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case TOGGLE_SUB: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\",\r\n                    {followed: action.isFollow})\r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.curP\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalC\r\n            }\r\n        }\r\n        case SET_PAGE_SIZE: {\r\n\r\n            return {\r\n                ...state,\r\n                pageSize: action.pageS\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_FOLLOWING_PROGRESS: {\r\n\r\n            return {\r\n                ...state,\r\n                followingProgress: action.isFetching\r\n                    ? [...state.followingProgress, action.userId]\r\n                    : state.followingProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport default UsersReducer;","import {profileAPI, usersAPI} from \"../api/api\";\r\nimport {setTotalUsersCount, setUsers, toggleIsFetching} from \"./UsersReducer\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst DELETE_POST = \"profile/DELETE-POST\"\r\nconst ADD_POST = \"profile/ADD-POST\"\r\nconst SET_USER_PROFILE = \"profile/SET-USER-PROFILE\"\r\nconst SET_PROFILE_PAGE_USER_ID = \"profile/SET-PROFILE-PAGE-USER-ID\"\r\nconst SET_STATUS = \"profile/SET-STATUS\"\r\nconst SET_PHOTO = \"profile/SET-PHOTO\"\r\n\r\n\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\nexport const addPostActionCreate = (text) => ({type: ADD_POST, text});\r\nexport const deletePost = (id) => ({type: DELETE_POST, id});\r\nexport const setPhoto = (photos) => ({type: SET_PHOTO, photos});\r\n\r\n\r\nexport const getProfile = (id) => async (dispatch) => {\r\n\r\n    let data = await profileAPI.getProfile(id)\r\n\r\n            dispatch(setUserProfile(data))\r\n\r\n\r\n}\r\n\r\nexport const getStatus = (id) => async (dispatch) => {\r\n\r\n    let data = await profileAPI.getStatus(id)\r\n\r\n            dispatch(setStatus(data))\r\n\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n\r\n    let data = await profileAPI.updateStatus(status)\r\n            if (data.resultCode === 0)\r\n            {\r\n                dispatch(setStatus(status))\r\n            }\r\n\r\n}\r\n\r\nexport const savePhoto = (photo) => async (dispatch) => {\r\n\r\n    let data = await profileAPI.savePhoto(photo)\r\n    if (data.resultCode === 0)\r\n    {\r\n        dispatch(setPhoto(data.data.photos))\r\n    }\r\n\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n\r\n    let data = await profileAPI.saveProfile(profile)\r\n    if (data.resultCode === 0)\r\n    {\r\n        dispatch(getProfile(getState().auth.id))\r\n    } else {\r\n        let error = data.messages[0]\r\n        let errorObj = {'_error': error}\r\n        let match = error.match(/Invalid url format \\(Contacts->(.+)\\)/)\r\n        if (match) {\r\n            let fieldName = match[1].toLowerCase()\r\n            errorObj = { 'contacts': {}}\r\n            errorObj.contacts[fieldName] = error\r\n        }\r\n        dispatch(stopSubmit('editProfile', errorObj))\r\n        throw error\r\n    }\r\n\r\n}\r\n\r\n\r\nlet initialState = {\r\n\r\n    postsData: [\r\n        {id: 0, message: 'you can add posts, but they will be same on any user page', likes: '8'},\r\n        {id: 1, message: 'likes dont work', likes: '4'},\r\n        {id: 2, message: '(((', likes: '2'},\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n};\r\n\r\nexport const ProfileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                message: action.text,\r\n                likes: '0',\r\n                id: state.postsData.length\r\n            };\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost]\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SET_PHOTO: {\r\n\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n\r\n            return {\r\n                ...state,\r\n                postsData: state.postsData.filter(p => p.id !== action.id)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default ProfileReducer;","import {authAPI, profileAPI, usersAPI} from \"../api/api\";\r\nimport {toggleFollowingProgress, toggleSub} from \"./UsersReducer\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = \"auth/SET-USER-DARA\";\r\nconst DELETE_USER_DATA = \"auth/DELETE-USER-DATA\"\r\n\r\nexport const setAuthUserData = (data, photos) => ({type: SET_USER_DATA, data, photos})\r\nexport const deleteAuthUserData = () => ({type: DELETE_USER_DATA})\r\n\r\n\r\n\r\nexport const authUser = () => async (dispatch) => {\r\n\r\n    let data = await authAPI.auth()\r\n    if (data.resultCode === 0) {\r\n        let profile = await profileAPI.getProfile(data.data.id)\r\n        dispatch(setAuthUserData(data.data, profile.photos))\r\n    }\r\n\r\n}\r\n\r\nexport const loginUser = (email, password, rememberMe) => async (dispatch) => {\r\n\r\n    let data = await authAPI.login(email, password, rememberMe)\r\n            if (data.resultCode === 0) {\r\n                dispatch(authUser())\r\n            }\r\n            else {\r\n                let err = data.messages.length > 0 ? data.messages[0] : \"Undefined error\"\r\n                dispatch(stopSubmit(\"login\", {_error: err}))\r\n            }\r\n}\r\n\r\nexport const logoutUser = () => async (dispatch) => {\r\n\r\n    let data = await authAPI.logout()\r\n            if (data.resultCode === 0) {\r\n                dispatch(deleteAuthUserData())\r\n            }\r\n}\r\n\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    small: null,\r\n    large: null\r\n};\r\n\r\nexport const AuthReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_USER_DATA: {\r\n\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                ...action.photos,\r\n                isAuth: true\r\n\r\n            }\r\n        }\r\n        case DELETE_USER_DATA: {\r\n\r\n            return {\r\n                id: null,\r\n                email: null,\r\n                login: null,\r\n                isAuth: false\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default AuthReducer;","import {authUser} from \"./AuthReducer\";\r\n\r\nconst SET_INITIALIZED = \"app/SET-INITIALIZED\"\r\n\r\nlet initialState = {\r\n    initializedSet: false\r\n};\r\n\r\nexport const setInitialized = () => ({type: SET_INITIALIZED})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(authUser())\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(setInitialized())\r\n    })\r\n\r\n}\r\n\r\n\r\nexport const AppReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_INITIALIZED: {\r\n\r\n            return {\r\n                ...state,\r\n                initializedSet: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default AppReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport ProfileReducer from \"./ProfileReducer\";\r\nimport DialogsReducer from \"./DialogsReducer\";\r\nimport UsersReducer from \"./UsersReducer\";\r\nimport AuthReducer from \"./AuthReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\"\r\nimport AppReducer from \"./AppReducer\";\r\n\r\nlet reducersPack = combineReducers({\r\n    dialogsPage: DialogsReducer,\r\n    profilePage: ProfileReducer,\r\n    usersPage: UsersReducer,\r\n    auth: AuthReducer,\r\n    app: AppReducer,\r\n    form: formReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducersPack, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\nexport default store;","export default __webpack_public_path__ + \"static/media/default_avatar.5154a37d.jpg\";","import s from './Post.module.css';\r\nimport avatar from '../../../../assets/images/default_avatar.jpg'\r\n\r\nconst Post = (props) => {\r\n    return <div className={s.item}>\r\n        <img className={s.postImage} src = {avatar}></img>\r\n        <div className={s.postMessage}>\r\n            {props.message}\r\n        </div>\r\n        <div>\r\n            <button className={s.likeButton}>{\"🤍 \" + props.likes}</button>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Post;","import s from './MyPosts.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, requiredField} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsContent/FormsContent\";\r\n\r\nconst maxLength = maxLengthCreator(25)\r\n\r\nconst MyPosts = React.memo((props) => {\r\n\r\n    let postsElements = props.page.postsData\r\n        .map(p => <Post message={p.message} likes={p.likes}/>)\r\n\r\n\r\n    let addPost = (formData) => {\r\n        props.addPost(formData.newPostBody)\r\n    }\r\n    return <div>\r\n        {props.page.profile && <div>\r\n            <ReduxAddPostForm className={s.item} onSubmit={addPost}/>\r\n            <div className={s.myPostsContent}>\r\n                <div className ={s.postsHeader}>\r\n                    {props.page.profile.fullName + \" posts\"}\r\n                </div>\r\n                <div className={s.posts}>\r\n                    {postsElements}\r\n                </div>\r\n            </div>\r\n        </div>}\r\n    </div>\r\n})\r\n\r\n\r\nconst AddPostForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit} className={s.addPost}>\r\n\r\n            <Field className={s.addPostField}\r\n                   component={Textarea}\r\n                   name = {\"newPostBody\"}\r\n                   placeholder={\"Enter your post\"}\r\n                   validate = {[maxLength]}/>\r\n\r\n\r\n            <button className={s.addPostButton}>Add post</button>\r\n\r\n    </form>\r\n}\r\n\r\nconst ReduxAddPostForm = reduxForm({ form: \"addPost\" })(AddPostForm)\r\n\r\n\r\n\r\n\r\nexport default MyPosts;","import React from \"react\";\r\nimport {addPostActionCreate, updateNewPostTextActionCreate} from \"../../../redux/ProfileReducer\";\r\n\r\nimport {connect} from \"react-redux\";\r\nimport MyPosts from \"./MyPosts\";\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        page: state.profilePage,\r\n        id: state.auth.id\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (text) => {dispatch(addPostActionCreate(text))},\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","export default __webpack_public_path__ + \"static/media/Spinner200px.d1b92144.svg\";","export default __webpack_public_path__ + \"static/media/head.396f570f.jpg\";","import spinner from \"../../../assets/Spinner200px.svg\";\r\nimport React from \"react\";\r\nimport s from \"./Preloader.module.css\"\r\n\r\nlet Preloader = (props) => {\r\n    return <div className={s.preloader}>\r\n        <div>Please wait</div>\r\n        <img src = {spinner} />\r\n    </div>\r\n}\r\n\r\nexport default Preloader","import React, {useEffect, useState} from \"react\";\r\nimport s from '../ProfileInfo.module.css';\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) =>{\r\n\r\n        let [editMode, setEditMode] = useState(false)\r\n        let [status, setStatus] = useState(props.status)\r\n\r\n        useEffect(() => {\r\n            setStatus(props.status)\r\n        }, [props.status])\r\n\r\n        const activateEditMode = () => {\r\n                setEditMode(true)\r\n            }\r\n\r\n        const deactivateEditMode = () => {\r\n            setEditMode(false)\r\n            props.updateStatus(status)\r\n        }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n        return <div className={s.status}>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={props.isOwner ? activateEditMode : () => {}}>\r\n                    {(props.status === null || props.status === \"\") ?\r\n                        <div>{props.isOwner ? \"Введите статус\" : \"Без статуса\"}</div> :\r\n                        <div>{props.status}</div>}\r\n                </span>\r\n            </div>}\r\n            {editMode &&\r\n            <div>\r\n                <input className={s.statusInput} onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status}/>\r\n            </div>}\r\n        </div>\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks","import React from \"react\";\r\n\r\nclass ProfileStatus extends React.Component {\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\n\r\n\r\n\r\n    activateEditMode = () =>{\r\n        this.setState({\r\n            editMode: true\r\n        })\r\n    }\r\n\r\n    deactivateEditMode = () =>{\r\n        this.setState({\r\n            editMode: false\r\n        })\r\n        this.props.updateStatus(this.state.status)\r\n    }\r\n\r\n    onStatusChange = (e) =>{\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return <div>\r\n            {!this.state.editMode &&\r\n            <div>\r\n                <span onDoubleClick={this.activateEditMode}>\r\n                    {(this.props.status === null || this.props.status === \"\") ?\r\n                        <div>{\"Введите статус\"}</div> :\r\n                        <div>{this.props.status}</div>}\r\n                </span>\r\n            </div>}\r\n            {this.state.editMode &&\r\n            <div>\r\n                <input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deactivateEditMode} value={this.state.status}></input>\r\n            </div>}\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default ProfileStatus","import {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsContent/FormsContent\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\nimport { Redirect } from 'react-router';\r\nimport s from \"./Login.module.css\"\r\nimport {Button, Popover} from \"antd\";\r\n\r\n\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.sendLogin(formData)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n\r\n        return <Redirect to = {\"/profile\"}/>\r\n    }\r\n\r\n    return <div>\r\n        <ReduxLoginForm onSubmit = {onSubmit}/>\r\n    </div>\r\n\r\n}\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <div className={s.header}>Login</div>\r\n        <div className={s.loginForm}>\r\n            <div className={s.leftPart}>\r\n                <div>\r\n                    <Field className={s.inputField} component={Input} name = {\"login\"} placeholder={\"Login\"}\r\n                           validate = {[requiredField]}/>\r\n                </div>\r\n                <div >\r\n                    <Field className={s.inputField} component={Input} name = {\"password\"}  placeholder={\"Password\"} type = {\"password\"}\r\n                           validate = {[requiredField]}/>\r\n                </div>\r\n                <div className={s.formSummaryError}>\r\n                    {error}\r\n                </div>\r\n                <div>\r\n                    <div className={s.checkbox}><Field component={Input} name = {\"rememberMe\"}  type ={\"checkbox\"}/></div>\r\n                    <div className={s.checkboxText}> remember me</div>\r\n                </div>\r\n                <div>\r\n                    <button className={s.loginButton}>Login</button>\r\n                </div>\r\n            </div>\r\n            <div className={s.text}>\r\n                Чтобы ознакомиться с функциональностью сайта\r\n                <br/>\r\n                перейдите в раздел 'Info'\r\n                <p/>\r\n                Используйте данные логин и пароль для входа\r\n                <p/>\r\n                login: eternalflick@gmail.com\r\n                <br/>\r\n                password: 123456\r\n            </div>\r\n        </div>\r\n        </form>\r\n\r\n}\r\n\r\nconst ReduxLoginForm = reduxForm({ form: \"login\" })(LoginForm)\r\n\r\nexport default Login;","import s from \"../ProfileInfo.module.css\";\r\nimport React from \"react\";\r\nimport {Input} from \"../../../common/FormsContent/FormsContent\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {requiredField} from \"../../../../utils/validators/validators\";\r\nimport Login from \"../../../Login/Login\";\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n    return <div>\r\n        {contactTitle + \": \"}\r\n        <Field component={Input} name = {'contacts.' + contactTitle} placeholder={contactTitle}/>\r\n    </div>\r\n}\r\n\r\nconst ProfileDataForm = ({handleSubmit, error, profile}) => {\r\n\r\n    let allContacts = []\r\n\r\n    for (let key in profile.contacts){\r\n        allContacts.push(\r\n            <Contact contactTitle={key}\r\n                     contactValue={profile.contacts[key]}\r\n            />)\r\n    }\r\n\r\n    return <form onSubmit={handleSubmit} className={s.bottomBlock}>\r\n\r\n        <div className={s.aboutMe}>\r\n            About me:\r\n        </div>\r\n        <div className={s.aboutMeDescr}>\r\n            <Field component={Input} name = {\"aboutMe\"} placeholder={\"About me\"}/>\r\n        </div>\r\n        <div className={s.contacts}>\r\n            Contacts:\r\n        </div>\r\n        <div className={s.contactsList}>\r\n            {allContacts}\r\n        </div>\r\n        <button  className={s.editButton}>Confirm</button>\r\n    </form>\r\n}\r\n\r\nconst ReduxEditProfileForm = reduxForm({ form: \"editProfile\" })(ProfileDataForm)\r\n\r\nexport default ReduxEditProfileForm;","import s from './ProfileInfo.module.css';\r\nimport headPict from './head.jpg'\r\nimport avatar from \"../../../assets/images/default_avatar.jpg\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatus from \"./ProfileStatus/ProfileStatus\";\r\nimport React, {useState} from \"react\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatus/ProfileStatusWithHooks\";\r\nimport ProfileDataForm from \"./ProfileDataForm/ProfileDataForm\";\r\n\r\n\r\nexport const Contact = ({contactTitle, contactValue}) => {\r\n    return <div>\r\n        {contactTitle + \": \" + (!!contactValue ? contactValue : '')}\r\n    </div>\r\n}\r\n\r\nconst ProfileData = (props) => {\r\n\r\n    let allContacts = []\r\n\r\n    for (let key in props.profile.contacts){\r\n        allContacts.push(\r\n            <Contact contactTitle={key}\r\n                     contactValue={props.profile.contacts[key]}\r\n            />)\r\n    }\r\n\r\n    return <div className={s.bottomBlock}>\r\n        <div className={s.aboutMe}>\r\n            About me:\r\n        </div>\r\n        <div className={s.aboutMeDescr}>\r\n            {props.profile.aboutMe}\r\n        </div>\r\n        <div className={s.contacts}>\r\n            Contacts:\r\n        </div>\r\n        <div className={s.contactsList}>\r\n            {allContacts}\r\n        </div>\r\n        {props.isOwner && <button onClick={props.toEditMode} className={s.editButton}>Edit</button>}\r\n    </div>\r\n}\r\n\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n    const onSubmit = (data) => {\r\n        let defaultProfile = JSON.parse(JSON.stringify(props.profile))\r\n        defaultProfile.aboutMe = data.aboutMe\r\n        defaultProfile.lookingForAJob = true\r\n        defaultProfile.lookingForAJobDescription = '456'\r\n        for(let key in defaultProfile.contacts) {\r\n            if (data.contacts[key])\r\n                defaultProfile.contacts[key] = data.contacts[key]\r\n            else\r\n                defaultProfile.contacts[key] = ''\r\n        }\r\n        let promise = props.saveProfile(defaultProfile)\r\n        promise.then(() => setEditMode(false))\r\n\r\n    }\r\n\r\n    const mainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            props.savePhoto(e.target.files[0]);\r\n        }\r\n    }\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n\r\n\r\n    return <div className={s.profileInfo}>\r\n        <div className={s.topBlock}>\r\n        <div className={s.fullN}>\r\n            {props.profile.fullName}\r\n            <div className={s.status}>\r\n                <ProfileStatusWithHooks\r\n                    updateStatus = {props.updateStatus}\r\n                    status ={props.status}\r\n                    isOwner={props.isOwner}\r\n                />\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <img className={s.ava} src={props.profile.photos.large != null ? props.profile.photos.large : avatar}/>\r\n            {props.isOwner &&\r\n            <label className={s.changeAvatarButton}>\r\n                <input  type={\"file\"} onChange={mainPhotoSelected}/>\r\n                Change avatar\r\n            </label>\r\n            }\r\n        </div>\r\n        </div>\r\n        {editMode ?\r\n            <ProfileDataForm profile = {props.profile}\r\n                             initialValues = {props.profile}\r\n                             onSubmit = {onSubmit}\r\n                             status = {props.status}/> :\r\n            <ProfileData toEditMode={() => {setEditMode(true)}}\r\n                         isOwner={props.isOwner}\r\n                         profile = {props.profile}\r\n                         status = {props.status}/>\r\n        }\r\n\r\n\r\n    </div>\r\n\r\n}\r\n\r\n\r\nexport default ProfileInfo;","import s from './Profile.module.css';\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport React from \"react\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\nconst Profile = (props) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n    return <div className= {s.profile}>\r\n        <ProfileInfo\r\n            savePhoto = {props.savePhoto}\r\n            isOwner = {props.isOwner}\r\n            status = {props.status}\r\n            saveProfile = {props.saveProfile}\r\n            updateStatus = {props.updateStatus}\r\n            profile = {props.profile}/>\r\n        <MyPostsContainer/>\r\n    </div>\r\n}\r\n\r\nexport default Profile;","import Profile from \"./Profile\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {getProfile, getStatus, savePhoto, saveProfile, setUserProfile, updateStatus} from \"../../redux/ProfileReducer\";\r\nimport {withRouter} from \"react-router\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component{\r\n\r\n    componentDidMount() {\r\n        let userID = this.props.match.params.userid\r\n        if (!userID) {\r\n            if (this.props.isAuth){\r\n                userID = this.props.authUserId\r\n            }\r\n        }\r\n        if (this.props.isAuth) {\r\n            this.props.getProfile(userID)\r\n            this.props.getStatus(userID)\r\n        }\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.match.params.userid !== prevProps.match.params.userid) {\r\n            let userID = this.props.match.params.userid\r\n            if (!userID) {\r\n                userID = this.props.authUserId\r\n            }\r\n\r\n            this.props.getProfile(userID)\r\n            this.props.getStatus(userID)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render () {\r\n        return (<Profile {...this.props}\r\n                         savePhoto = {this.props.savePhoto}\r\n                         isOwner = {!this.props.match.params.userid || (this.props.match.params.userid === this.props.authUserId)}\r\n                         status = {this.props.status}\r\n                         saveProfile = {this.props.saveProfile}\r\n                         updateStatus = {this.props.updateStatus}\r\n                         profile = {this.props.profile} />)\r\n\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    authUserId: state.auth.id,\r\n    isAuth: state.auth.isAuth,\r\n    status: state.profilePage.status\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        setUserProfile,\r\n        getProfile,\r\n        getStatus,\r\n        updateStatus,\r\n        savePhoto,\r\n        saveProfile\r\n    }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)","import s from \"./User.module.css\";\r\nimport avatar from \"../../assets/images/default_avatar.jpg\";\r\nimport React from \"react\";\r\nimport 'antd/dist/antd.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nlet User = ({u, followingProgress, followingStatusChange}) => {\r\n\r\n    return (\r\n            <div key={u.id} className={s.user}>\r\n                <NavLink to={'/profile/' + u.id}>\r\n                <img className={s.avatar}\r\n                     src={u.photos.small != null ? u.photos.small : avatar}/>\r\n                </NavLink>\r\n\r\n            <div className = {s.followButton}>\r\n        {u.followed ? <button className = {s.button} disabled={followingProgress.some(id => id === u.id)} onClick={() => {\r\n\r\n\r\n                followingStatusChange(u.id, false)\r\n\r\n\r\n            }}>Unfollow</button>\r\n            : <button className = {s.button} disabled={followingProgress.some(id => id === u.id)} onClick={() => {\r\n\r\n                followingStatusChange(u.id, true)\r\n\r\n\r\n            }}>Follow</button>}\r\n            </div>\r\n            <div className = {s.name}>{u.name}</div>\r\n            <div className = {s.status}>{u.status}</div>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default User","import s from \"./User.module.css\";\r\nimport React from \"react\";\r\nimport {Pagination, small} from \"antd\";\r\nimport 'antd/dist/antd.css';\r\nimport { Redirect } from 'react-router';\r\nimport User from \"./User\";\r\n\r\nlet Users = (props) => {\r\n\r\n    if (props.isAuth == false)\r\n        return <Redirect to={\"/login\"}/>\r\n\r\n    return (<div className = {s.content}>\r\n            <div className = {s.header}>\r\n                Users\r\n            </div>\r\n            <div className={s.paginationFlex}>\r\n                <div className={s.pagination}>\r\n                    <Pagination\r\n                        defaultCurrent={props.currentPage}\r\n                        defaultPageSize={props.pageSize}\r\n                        total={props.totalUsersCount}\r\n                        onShowSizeChange = {(current, pageSize) => {props.onPageSizeChange(current, pageSize)}}\r\n                        onChange = {(page, pageSize) => {props.onPageChange(page, pageSize)}}\r\n                    />\r\n                </div>\r\n            </div>\r\n        {props.users.map(\r\n            u => {\r\n                return (<User  u = {u}\r\n                              followingProgress = {props.followingProgress}\r\n                              followingStatusChange = {props.followingStatusChange}\r\n                />)\r\n            }\r\n        )}\r\n    </div>\r\n)}\r\n\r\nexport default Users","import {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingProgress = (state) => {\r\n    return state.usersPage.followingProgress\r\n}\r\n\r\nexport const getUsersForTestReselect = createSelector(getUsers , getIsFetching, (users, isFetching) => {\r\n    if (isFetching)\r\n        return users.filter(u => false)\r\n    else\r\n        return users.filter(u => true)\r\n})\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport Users from \"./Users\";\r\nimport { Redirect } from 'react-router';\r\nimport {\r\n    follow,\r\n    requestUsers,\r\n    setCurrentPage, setPageSize, followingStatusChange,\r\n    toggleFollowingProgress,\r\n    toggleSub, unfollow,\r\n\r\n} from \"../../redux/UsersReducer\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {usersAPI} from \"../../api/api\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsers\r\n} from \"../../redux/UsersSelectors\";\r\n\r\n\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChange = (currentPage, pageSize) => {\r\n        this.props.setCurrentPage(currentPage)\r\n        this.props.getUsers(currentPage, pageSize)\r\n    }\r\n\r\n    onPageSizeChange = (currentPage, pageSize) => {\r\n        this.props.setPageSize(pageSize)\r\n        this.props.getUsers(currentPage, pageSize)\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> :\r\n            <Users\r\n            totalUsersCount = {this.props.totalUsersCount}\r\n            pageSize = {this.props.pageSize}\r\n            currentPage = {this.props.currentPage}\r\n            onPageChange = {this.onPageChange}\r\n            onPageSizeChange = {this.onPageSizeChange}\r\n            users = {this.props.users}\r\n            followingProgress = {this.props.followingProgress}\r\n            followingStatusChange = {this.props.followingStatusChange}\r\n\r\n        />}\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingProgress: getFollowingProgress(state),\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        setCurrentPage,\r\n        setPageSize,\r\n        getUsers: requestUsers,\r\n        followingStatusChange,\r\n\r\n    }),\r\n\r\n)(UsersContainer)","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport {authUser, loginUser, logoutUser, setAuthUserData} from \"../../redux/AuthReducer\";\r\nimport {compose} from \"redux\";\r\nimport Login from \"./Login\";\r\n\r\n\r\n\r\nclass LoginContainer extends React.Component{\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    render () {\r\n        return (<Login sendLogin = {this.sendLogin} {...this.props}/>)\r\n    }\r\n\r\n    sendLogin = (formData) => {\r\n        this.props.loginUser(formData.login, formData.password, formData.rememberMe)\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        loginUser,\r\n        logoutUser\r\n        })\r\n)(LoginContainer)","import s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport avatar from \"../../assets/images/default_avatar.jpg\";\r\nimport exit from \"./../../assets/images/exit-24px.png\"\r\n\r\nconst Header = (props) => {\r\n    return <header className = {s.header}>\r\n        <div className={s.rightSide}>\r\n\r\n                {props.isAuth ?\r\n                    <div className = {s.username}>\r\n                        <NavLink className = {s.username}  to = {'/profile/' + props.userId}>{props.login}</NavLink>\r\n                    </div>\r\n                    : <div className = {s.login}>\r\n                        <NavLink className = {s.login}  to = '/login'>Login</NavLink>\r\n                    </div>}\r\n\r\n            {props.isAuth && <div className = {s.logout}>\r\n                <img className = {s.logout} onClick = {props.logout} src = {exit}/>\r\n            </div>}\r\n\r\n            {props.isAuth && <img className={s.photo}\r\n                 src = {props.photoSmall ? props.photoSmall :\r\n                     props.photoLarge ? props.photoLarge : avatar}/>}\r\n\r\n        </div>\r\n\r\n    </header>\r\n}\r\n\r\nexport default Header;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIJSURBVHgB7ZjhUcIwFMf/CR3ADYQJZANhA51Aehx34BdxAnEC/SaHcMEJYANwAnECcQO+W4kvpRwcphTb195x9ncHoUlo/s3re8kLkJOT82dEWINqqDIKeKAeRaSNxpy+Xbfrzm3NVpGqqYrU8kY/T5AdC3ious/ubLdBhvxBIVuB8MdzyHIWHFulFrokNpM8XerlK1JCCnlORSW4LNr6OIjACKx36x2kxKA56JDQyr4+EkfAUYiMNPeh+BFBYoQvCiUWD00Cy0wGIWtC8a5Mjz3xYywjPOYWuMHGM0+4hUr7mKJNs+Kaj/yWY0TgPrm3VLxsVbEKFWBEtdSQiqutqtBVZE0Qgu6Cyzk9cGm3D6t30wA1pDCjVu/uNXplURCxlkVPe0NHOme+E61YC63G9XqrSMdxxvReniIu+ldNIqFZBnMjdIQYZCnSONElYmA1t9CihiRI2nJt3klDpJfvwyqSdshTxERdK8Up0MBq7kBgbasqsUCDdSb7rf4FmdwPQbTizA4ZJC2BoSIl5KMQqxC0LCzvqdg7kFk10hK40sNyEzmkYh5csgpc3Z8BPxXVqGrod26BBrZNb5Azs+4j1+Q5DheR5jZ5se+9KRHk3XuxL4sQH1Ssd0GVqLyYC3K8T1u93dweTDqwQLYswvYM4adqlAHSccsQyOBUjWKs8ESbO3Tl5PxrfgAXHLnb8sYvQwAAAABJRU5ErkJggg==\"","import React from \"react\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {authUser, logoutUser, setAuthUserData} from \"../../redux/AuthReducer\";\r\nimport Header from \"./Header\";\r\n\r\n\r\nclass HeaderContainer extends React.Component{\r\n\r\n    render () {\r\n        return (<Header {...this.props} logout = {this.sendLogout}/>)\r\n\r\n    }\r\n\r\n    sendLogout = () => {\r\n        this.props.logoutUser()\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n    userId: state.auth.id,\r\n    photoSmall: state.auth.small,\r\n    photoLarge: state.auth.large\r\n})\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {authUser, logoutUser, setAuthUserData})\r\n)(HeaderContainer)","import s from './Sidebar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Sidebar = (props) => {\r\n    return <nav className= {s.nav}>\r\n        <div className = {s.item}>\r\n            <NavLink to='/profile' activeClassName = {s.active}>Profile</NavLink>\r\n        </div>\r\n        <div className = {s.item}>\r\n            <NavLink to='/dialogs' activeClassName = {s.active}>Messages</NavLink>\r\n        </div>\r\n        <div className = {s.item}>\r\n            <NavLink to='/users' activeClassName = {s.active}>Users</NavLink>\r\n        </div>\r\n        <div className = {s.item}>\r\n            <NavLink to='/news' activeClassName = {s.active}>News</NavLink>\r\n        </div>\r\n        <div className = {s.item}>\r\n            <NavLink to='/music' activeClassName = {s.active}>Music</NavLink>\r\n        </div>\r\n        <div className = {s.item}>\r\n            <NavLink to='/settings' activeClassName = {s.active}>Settings</NavLink>\r\n        </div>\r\n        <div className = {s.item}>\r\n            <NavLink to='/info' activeClassName = {s.active}>Info</NavLink>\r\n        </div>\r\n    </nav>\r\n}\r\n\r\nexport default Sidebar;","import {useEffect} from \"react\";\r\nimport s from \"./Info.module.css\"\r\n\r\nconst Info = (props) => {\r\n\r\n    return <div>\r\n        <div className={s.header}>\r\n            Info\r\n        </div>\r\n        <div>\r\n            <div className={s.item}>\r\n                Этот проект не предусматривает регистрацию,\r\n                но логирование происходит с помощью api.\r\n            </div>\r\n            <div className={s.item}>\r\n                Вы можете изменить фотографию и поля About me / Contacts в профиле\r\n\r\n            </div>\r\n            <div className={s.item}>\r\n                Вы можете изменить статус в профиле двойным нажатием по нему\r\n\r\n            </div>\r\n            <div className={s.item}>\r\n                Вы можете подписаться на пользователя в разделе 'Users'\r\n\r\n            </div>\r\n            <div className={s.item}>\r\n                Вы можете перейти к странице пользователя, нажатием на его аватарку\r\n\r\n            </div>\r\n            <div className={s.item}>\r\n                На последних страницах раздела 'Users'  больше пользователей с аватарками и статусами\r\n\r\n            </div>\r\n            <div className={s.item}>\r\n\r\n                Добавление постов с использованием api не реализованно,\r\n                стоят заглушки и посты визуально добавляются\r\n            </div>\r\n            <div className={s.item}>\r\n                Messages / News / Music / Settings - заглушки\r\n\r\n            </div>\r\n            <div className={s.item}>\r\n                Есть различная валидация на input полях\r\n                (обязательное поле при логине и максимальный размер содержимого)\r\n\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n}\r\n\r\nexport default Info;","\r\nimport s from \"./App.module.css\";\r\nimport React from \"react\";\r\nimport {HashRouter, BrowserRouter, Route, Redirect} from \"react-router-dom\";\r\nimport {Component} from \"react\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {initializeApp} from \"./redux/AppReducer\";\r\n\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport LoginContainer from \"./components/Login/LoginContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Sidebar from \"./components/Sidebar/Sidebar\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport {withAuthRedirect} from \"./hoc/withAuthRedirect\";\r\nimport Info from \"./components/Info/Info\";\r\n\r\nconst Music = React.lazy(() => import('./components/Music/Music'));\r\nconst Settings = React.lazy(() => import('./components/Settings/Settings'));\r\nconst News = React.lazy(() => import('./components/News/News'));\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\n\r\n\r\n\r\nclass App extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initializedSet) {\r\n            return<div>\r\n                <Preloader/>\r\n            </div>\r\n        }\r\n\r\n        return (\r\n\r\n                <div className={s.app}>\r\n                    <div className={s.appWrap}>\r\n                        <Sidebar/>\r\n                        <HeaderContainer/>\r\n                        <div className={s.appWrapContent}>\r\n                            <React.Suspense fallback={<Preloader/>}>\r\n                                <Route path='/' render={ () => <Redirect to={\"/login\"}/>}/>\r\n                                <Route path='/profile/:userid?' render={ () => <ProfileContainer/>}/>\r\n                                <Route path='/dialogs' render={ () => <DialogsContainer/>}/>\r\n                                <Route path='/users' render={ () => <UsersContainer/>}/>\r\n                                <Route path='/music' render={() => <Music/>}/>\r\n                                <Route path='/settings' render={() => <Settings/>}/>\r\n                                <Route path='/news' render={() => <News/>}/>\r\n                                <Route path='/info' render={() => <Info/>}/>\r\n                                <Route path='/login' render={() => <LoginContainer/>}/>\r\n                            </React.Suspense>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initializedSet: state.app.initializedSet\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {initializeApp}),\r\n\r\n)(App)\r\n\r\n\r\n","import React from 'react';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport store from \"./redux/ReduxStore\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport {Provider} from \"react-redux\";\r\nimport {HashRouter} from \"react-router-dom\";\r\n\r\n\r\nReactDOM.render(\r\n\r\n        <Provider store={store}>\r\n            <HashRouter>\r\n                <App/>\r\n            </HashRouter>\r\n        </Provider>\r\n    ,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"User_content__3OJjq\",\"avatar\":\"User_avatar__2_Ukt\",\"user\":\"User_user__3kdjZ\",\"name\":\"User_name__EJn-o\",\"status\":\"User_status__Kqm9D\",\"followButton\":\"User_followButton__yL_t3\",\"button\":\"User_button__3T4An\",\"pagination\":\"User_pagination__xiB_j\",\"paginationFlex\":\"User_paginationFlex__3Pk1B\",\"header\":\"User_header__3JxdW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkbox\":\"Login_checkbox__1FoWl\",\"checkboxText\":\"Login_checkboxText__30SO1\",\"formSummaryError\":\"Login_formSummaryError__2JZ_R\",\"inputField\":\"Login_inputField__2y1LH\",\"loginButton\":\"Login_loginButton__3XhxJ\",\"loginForm\":\"Login_loginForm__3RY_F\",\"text\":\"Login_text__caPhR\",\"leftPart\":\"Login_leftPart__3dqqD\",\"header\":\"Login_header__VncSb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Info_item__1nmAT\",\"header\":\"Info_header__1coHF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3WmZD\",\"username\":\"Header_username__2h7LE\",\"logout\":\"Header_logout__HgODy\",\"photo\":\"Header_photo__3JKLn\",\"login\":\"Header_login__11mA6\",\"rightSide\":\"Header_rightSide__21HmG\"};","import React from \"react\";\r\nimport s from \"./FormContent.module.css\"\r\n\r\nconst FormControl  = ({input, meta,...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    return <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n        <div>\r\n            {props.children}\r\n        </div>\r\n        {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl{...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPostsContent\":\"MyPosts_myPostsContent__PJucm\",\"postsHeader\":\"MyPosts_postsHeader__2DLpg\",\"addPostField\":\"MyPosts_addPostField__3g86Q\",\"addPostButton\":\"MyPosts_addPostButton__3v27f\",\"addPost\":\"MyPosts_addPost__CzhfN\"};","export const requiredField = (value) => {\r\n    if (value) return undefined\r\n\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symb.`\r\n\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3SI1B\",\"likeButton\":\"Post_likeButton__1pmRj\",\"postMessage\":\"Post_postMessage__2fJAL\",\"postImage\":\"Post_postImage__2MNVd\"};"],"sourceRoot":""}